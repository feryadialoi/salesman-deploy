(this.webpackJsonpsalesman=this.webpackJsonpsalesman||[]).push([[0],{54:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(0),o=n.n(c),s=n(27),i=n.n(s),a=(n(54),n(12)),u=n(11),l=function(){return Object(r.jsx)("div",{children:Object(r.jsx)("div",{children:"Not found"})})},d=n(3),j=n(31),b=n(2),O=n(4),h=function e(t){Object(b.a)(this,e),this.token=t},f=function(){function e(){Object(b.a)(this,e)}return Object(O.a)(e,[{key:"setAuth",value:function(e){this.setToken(e.token)}},{key:"getAuth",value:function(){var e=this.getToken();return""!==e?new h(e):null}},{key:"setToken",value:function(e){localStorage.setItem("token",e)}},{key:"getToken",value:function(){return localStorage.getItem("token")||""}},{key:"removeAuth",value:function(){this.removeToken()}},{key:"removeToken",value:function(){localStorage.removeItem("token")}}]),e}(),p=function(){function e(){Object(b.a)(this,e),this.authLocalPersistent=new f}return Object(O.a)(e,[{key:"getAuth",value:function(){return this.authLocalPersistent.getAuth()}},{key:"setAuth",value:function(e){this.authLocalPersistent.setAuth(e)}},{key:"login",value:function(e,t){}},{key:"logout",value:function(){this.authLocalPersistent.removeAuth()}}]),e}(),v=function(){return new p},x=function(e){var t=e.component,n=Object(j.a)(e,["component"]),c=v();return Object(r.jsx)(u.b,Object(d.a)(Object(d.a)({},n),{},{render:function(e){return c.getAuth()?Object(r.jsx)(t,Object(d.a)({},e)):Object(r.jsx)(u.a,{to:"/login"})}}))},m=function(e){var t=e.component,n=Object(j.a)(e,["component"]),c=v(),o=Object(u.g)();return Object(r.jsx)(u.b,Object(d.a)(Object(d.a)({},n),{},{render:function(e){return c.getAuth()&&"/login"===o.location.pathname?Object(r.jsx)(u.a,{to:"/"}):Object(r.jsx)(t,Object(d.a)({},e))}}))},g=n(6),A=n(8),y=function(e){return Object(r.jsx)("div",{className:"flex flex-col flex-1 overflow-y-auto p-4",children:e.children})},w=function(e){return Object(r.jsx)("div",{className:"flex flex-col h-screen",children:e.children})},k=n(13),C=function(e){var t=Object(u.g)();return Object(r.jsxs)("div",{className:"flex h-16 bg-purple-600 justify-center",children:[Object(r.jsx)(P,{title:"Beranda",onClick:function(){console.log("%c beranda","color:yellow"),t.replace("/")},children:Object(r.jsx)(k.c,{color:"white"})}),Object(r.jsx)(P,{title:"Orderan",onClick:function(){console.log("%c orderan","color:yellow"),t.replace("/orders")},children:Object(r.jsx)(k.f,{color:"white"})}),Object(r.jsx)(P,{title:"Pelanggan",onClick:function(){console.log("%c customer","color:yellow"),t.replace("/customers")},children:Object(r.jsx)(k.h,{color:"white"})}),Object(r.jsx)(P,{title:"Catalog",onClick:function(){console.log("%c catalog","color:yellow"),t.replace("/catalogs")},children:Object(r.jsx)(k.b,{color:"white"})})]})},P=function(e){return Object(r.jsxs)("div",{onClick:e.onClick,className:"\r flex\r flex-col\r flex-1\r bg-purple-600 \r hover:bg-purple-700 \r focus:outline-none \r focus:ring-2 \r focus:ring-purple-600 \r focus:ring-opacity-50\r items-center\r justify-center\r ",children:[e.children,Object(r.jsx)("div",{className:"text-white text-center",children:e.title})]})},S=function(e){return Object(r.jsxs)("div",{className:"flex h-16 bg-purple-600 items-center px-2",children:[e.children,Object(r.jsx)("div",{children:e.left}),Object(r.jsx)("div",{className:"flex-1 items-center text-white px-2",children:e.title}),Object(r.jsx)("div",{children:e.right})]})},N=function(e){return Object(r.jsx)(r.Fragment,{children:e.data.map(e.render)})},I=n(10),T="SET_PRODUCTS",L="ADD_PRODUCT",R="CLEAR_PRODUCTS",E={products:[]},D=function(e){return{type:T,payload:e}},B=n(5),U=n.n(B),J=n(9),q=n(19),K=n(20),M=function e(t,n,r,c,o){Object(b.a)(this,e),this.id=t,this.name=n,this.price=r,this.stock=c,this.quantity=o},X=function(){function e(){Object(b.a)(this,e)}return Object(O.a)(e,null,[{key:"getProducts",value:function(){return this.products}},{key:"getProduct",value:function(e){return this.products.filter((function(t){return t.id===e}))[0]}}]),e}();X.products=[new M(1,"Good Day Mocacinno",2e3,100,1),new M(2,"Good Day Carrebian Nut",2e3,100,1),new M(3,"Good Day Original",2e3,100,1),new M(4,"Good Day Chococinno",2e3,100,1),new M(5,"Good Day Vanilla Latte",2e3,100,1),new M(6,"Nescafe Classic",2e3,100,1),new M(7,"Nescafe Original",2e3,100,1),new M(8,"Luwak White Koffie Original",2e3,100,1),new M(9,"Luwak White Koffie Caramel",2e3,100,1),new M(10,"Luwak White Koffie Mocca Rose",2e3,100,1)];var F=n(47),G=n.n(F),V=function e(){Object(b.a)(this,e),this.axios=void 0,this.baseUrl=void 0,this.axios=G.a,this.baseUrl="http://localhost"},Q=function(e){Object(q.a)(n,e);var t=Object(K.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"getProducts",value:function(){var e=Object(J.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X.getProducts());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(V),W=function(){function e(){Object(b.a)(this,e),this.productApiService=new Q}return Object(O.a)(e,[{key:"getProducts",value:function(){return this.productApiService.getProducts()}}]),e}(),H=function(){function e(){Object(b.a)(this,e)}return Object(O.a)(e,[{key:"rupiah",value:function(e){var t=e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".");return"".concat("Rp").concat(t)}}]),e}(),z=function(){return new H},_=function(){var e=new W,t=z(),n=Object(c.useState)(!1),o=Object(g.a)(n,2),s=o[0],i=o[1],a=Object(A.c)((function(e){return e.product.products})),u=Object(A.b)();return Object(c.useEffect)((function(){Promise.all([e.getProducts()]).then((function(e){var t=Object(g.a)(e,1)[0];u(D(t)),i(!1)})).catch((function(e){}))}),[]),s?Object(r.jsx)(w,{children:Object(r.jsx)(y,{children:Object(r.jsx)("div",{children:"loading..."})})}):Object(r.jsxs)(w,{children:[Object(r.jsx)(S,{title:"Catalog"}),Object(r.jsx)(y,{children:Object(r.jsx)(N,{data:a,render:function(e,n){return Object(r.jsxs)("div",{className:"flex shadow mb-4 rounded p-2",children:[Object(r.jsx)("img",{className:"h-20 w-20 mr-2",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAMFBMVEXp7vG6vsG3u77s8fTCxsnn7O/f5OfFyczP09bM0dO8wMPk6ezY3eDd4uXR1tnJzdBvAX/cAAACVElEQVR4nO3b23KDIBRA0ShGU0n0//+2KmO94gWZ8Zxmr7fmwWEHJsJUHw8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwO1MHHdn+L3rIoK6eshsNJ8kTaJI07fERPOO1Nc1vgQm2oiBTWJ+d8+CqV1heplLzMRNonED+4mg7L6p591FC+133/xCRNCtd3nL9BlxWP++MOaXFdEXFjZ7r8D9l45C8y6aG0cWtP/SUGhs2d8dA/ZfGgrzYX+TVqcTNRRO9l+fS5eSYzQs85psUcuzk6igcLoHPz2J8gvzWaH/JLS+95RfOD8o1p5CU5R7l5LkfKEp0mQ1UX7hsVXqDpRrifILD/3S9CfmlUQFhQfuFu0STTyJ8gsP3PH7GVxN1FC4t2sbBy4TNRTu7LyHJbqaqKFw+/Q0ncFloo7CjRPwMnCWqKXQZ75El4nKC9dmcJaou9AXOE5UXbi+RGeJygrz8Uf+GewSn9uXuplnWDZJ7d8f24F/s6iq0LYf9olbS3Q8i5oKrRu4S9ybwaQ/aCkqtP3I28QDgeoK7TBya/aXqL5COx67PTCD2grtdOwH+pQV2r0a7YVBgZoKwwIVFQYG6ikMDVRTGByopjD8ATcKb0UhhRTe77sKs2DV7FKSjId18TUEBYVyLhUThWfILHTDqmI85/2RWWjcE/bhP6OD7maT3h20MHsA47JC3PsW0wcwLhv9t0OOPOIkCn21y2bXXwlyylxiYMPk1SuCSmpfK8bNQvIrpAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwNX4BCbAju9/X67UAAAAASUVORK5CYII="}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:e.name}),Object(r.jsx)("div",{children:t.rupiah(e.price)}),Object(r.jsx)("div",{children:e.quantity})]})]},n)}})}),Object(r.jsx)(C,{})]})},Y=function(e){return Object(r.jsx)("button",{type:"button",onClick:e.onClick,className:"\r bg-purple-600 \r hover:bg-purple-700 \r focus:outline-none \r focus:ring-2 \r focus:ring-purple-600 \r focus:ring-opacity-50\r rounded\r h-10\r px-4\r text-white\r shadow\r ",children:e.title})},Z=function(e){return Object(r.jsx)("div",{onClick:e.onClick,children:Object(r.jsx)(k.e,{color:"purple"})})},$=function(e){return Object(r.jsx)("div",{className:"\r hover:bg-purple-700 \r focus:outline-none \r focus:ring-2 \r focus:ring-purple-600 \r focus:ring-opacity-50\r p-2\r ",onClick:e.onClick,children:Object(r.jsx)(k.a,{color:"white"})})},ee=function(e){return Object(r.jsx)("div",{onClick:e.onClick,children:Object(r.jsx)(k.d,{color:e.color||"purple"})})},te=function(e){return Object(r.jsx)("div",{onClick:e.onClick,children:Object(r.jsx)(k.i,{color:e.color||"white"})})},ne=function(e){return e.visible?Object(r.jsx)("div",{className:"\r bg-opacity-80\r absolute\r w-screen\r h-screen\r px-4\r py-8\r bg-gray-900\r flex\r flex-col\r justify-center\r ",children:Object(r.jsxs)("div",{className:"\r bg-white\r flex\r flex-col\r h-full\r rounded\r ",children:[Object(r.jsxs)("div",{className:"\r flex\r h8\r items-center\r border-b-2\r ",children:[Object(r.jsx)("div",{className:"flex-1 px-2",children:e.title}),Object(r.jsx)("div",{className:"p-4",children:Object(r.jsx)(te,{color:"purple",onClick:e.onClose})})]}),Object(r.jsx)("div",{className:"                        \r flex flex-col flex-1 overflow-y-auto p-4\r ",children:e.content})]})}):Object(r.jsx)("div",{})},re=function e(t,n){Object(b.a)(this,e),this.product=t,this.quantity=n},ce="SET_CARTS",oe="SET_CART_ITEMS",se="ADD_CART_ITEM",ie="CLEAR_CART_ITEMS",ae={carts:[],cartItems:[]},ue=function(e){return{type:oe,payload:e}},le=function(){return{type:ie}},de=function e(t,n){Object(b.a)(this,e),this.id=t,this.name=n},je=function(){function e(){Object(b.a)(this,e)}return Object(O.a)(e,null,[{key:"getCustomers",value:function(){return this.customers}},{key:"getCustomer",value:function(e){return this.customers.filter((function(t){return t.id===e}))[0]}}]),e}();je.customers=[new de(1,"customer 1"),new de(2,"customer 2"),new de(3,"customer 3")];var be=function(e){Object(q.a)(n,e);var t=Object(K.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"getCustomers",value:function(){var e=Object(J.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",je.getCustomers());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getCustomerById",value:function(){var e=Object(J.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCustomers();case 2:return e.abrupt("return",e.sent.filter((function(e){return e.id===t}))[0]);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(V),Oe=n(48),he=function(e){Object(q.a)(n,e);var t=Object(K.a)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"network error, state offline";return Object(b.a)(this,n),t.call(this,e)}return n}(Object(Oe.a)(Error)),fe=function(){function e(){Object(b.a)(this,e),this.key="order_done"}return Object(O.a)(e,[{key:"getPurchases",value:function(){var e=localStorage.getItem(this.key);return e?JSON.parse(e):[]}},{key:"getPurchase",value:function(){throw new Error("Method not implemented.")}},{key:"getPurchaseById",value:function(e){return this.getPurchases().filter((function(t){return t.id===e}))[0]}},{key:"setPurchases",value:function(e){var t=this.getPurchases(),n=[].concat(Object(I.a)(t),Object(I.a)(e)),r=JSON.stringify(n);localStorage.setItem(this.key,r)}},{key:"setPurchase",value:function(e){var t=this.getPurchases(),n=[].concat(Object(I.a)(t),[e]),r=JSON.stringify(n);localStorage.setItem(this.key,r)}}]),e}(),pe=function e(t,n,r){Object(b.a)(this,e),this.id=t,this.customerId=n,this.orderItems=r},ve=function(){function e(){Object(b.a)(this,e)}return Object(O.a)(e,[{key:"getInternetState",value:function(){var e=Object(J.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://google.com",{mode:"no-cors"});case 3:return e.sent,e.abrupt("return","online");case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return","offline");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),xe=function(e){Object(q.a)(n,e);var t=Object(K.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).purchaseLocalPersistent=new fe,e.internetConnectionUtil=new ve,e}return Object(O.a)(n,[{key:"storeOrder",value:function(){var e=Object(J.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("orderApiService",t),e.next=3,this.internetConnectionUtil.getInternetState();case 3:if("online"!==e.sent){e.next=9;break}n=new pe(Date.now(),t.customerId,t.orderItems),this.purchaseLocalPersistent.setPurchase(n),e.next=10;break;case 9:throw new he;case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getOrders",value:function(){var e=Object(J.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getPurchases",value:function(){var e=Object(J.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.purchaseLocalPersistent.getPurchases());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPurchase",value:function(){var e=Object(J.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.purchaseLocalPersistent.getPurchase());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(V),me=function(){function e(){Object(b.a)(this,e)}return Object(O.a)(e,[{key:"setOrder",value:function(e){if(this.getOrders().filter((function(t){return t.id===e.id&&t.customerId==e.customerId})).length>0)console.log("specified order already exist");else{var t=[].concat(Object(I.a)(this.getOrders()),[e]);this.setOrders(t)}}},{key:"getOrder",value:function(){throw new Error("Method not implemented.")}},{key:"setOrders",value:function(e){var t=JSON.stringify(e);localStorage.setItem("orders",t)}},{key:"getOrders",value:function(){var e=localStorage.getItem("orders");return e?JSON.parse(e):[]}},{key:"removeOrder",value:function(e){var t=this.getOrders().filter((function(t){return t.id!==e.id&&t.customerId!==e.customerId}));console.log("removed, the rest",t),this.setOrders(t),console.log("orderLocalPersistent.removeOrder")}},{key:"getOrderById",value:function(e){return this.getOrders().filter((function(t){return t.id===e}))[0]}}]),e}(),ge=function e(t,n){Object(b.a)(this,e),this.customerId=t,this.orderItems=n},Ae=function(){function e(){Object(b.a)(this,e),this.orderLocalPersistent=new me,this.orderApiService=new xe,this.productApiService=new Q,this.customerApiService=new be}return Object(O.a)(e,[{key:"storeOrder",value:function(e){var t=this;console.log("store order",e);var n=new ge(e.customerId,e.orderItems);return this.orderLocalPersistent.setOrder(e),this.orderApiService.storeOrder(n).then((function(n){console.log("%c order store to server succesfully","color:green"),t.orderLocalPersistent.removeOrder(e)})).catch((function(e){throw console.log("%c order store to server fail","color:red"),new Error("order failed, order store to local instead")})).finally((function(){}))}},{key:"getProducts",value:function(){return this.productApiService.getProducts()}},{key:"getCustomers",value:function(){return this.customerApiService.getCustomers()}},{key:"getOrderLocalPersistentById",value:function(){var e=Object(J.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.orderLocalPersistent.getOrderById(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getOrdersLocalPersistent",value:function(){return this.orderLocalPersistent.getOrders()}},{key:"getPurchases",value:function(){return this.orderApiService.getPurchases()}}]),e}(),ye=function(){return new Ae},we=function(e){return Object(r.jsx)("div",{onClick:e.onClick,children:Object(r.jsx)(k.g,{color:e.color||"purple"})})},ke="SET_CUSTOMERS",Ce="ADD_CUSTOMER",Pe="CLEAR_CUSTOMERS",Se={customers:[]},Ne=function(e){return{type:ke,payload:e}},Ie=function(e){return Object(r.jsx)("div",{className:"\r border-t-2 \r flex\r flex-col\r p-3\r ",children:e.children})},Te=function e(t,n,r){Object(b.a)(this,e),this.id=t,this.product=n,this.quantity=r},Le=function(e){return e.visible?Object(r.jsx)("div",{className:"\r bg-opacity-80\r absolute\r w-screen\r h-screen\r px-4\r py-8\r bg-gray-900\r flex\r flex-col\r justify-center\r items-center\r ",children:Object(r.jsxs)("div",{className:"\r w-64\r max-w-xs\r bg-white\r flex\r flex-col\r rounded\r ",children:[Object(r.jsx)("div",{className:"\r flex\r flex-col\r h-12\r items-center\r justify-center\r border-b-2\r ",children:Object(r.jsx)("div",{className:"font-medium",children:e.title||"Alert Box"})}),Object(r.jsx)("div",{className:"                        \r flex flex-col flex-1 overflow-y-auto p-4\r ",children:e.content}),Object(r.jsx)("div",{className:"flex flex-col border-t-2 p-3",children:Object(r.jsx)(Y,{title:"Tutup",onClick:e.onClose})})]})}):Object(r.jsx)("div",{})},Re="SET_INTERNET_STATE",Ee={internetState:"online"},De=function(){var e,t=Object(u.g)(),n=ye(),o=new ve,s=z(),i=Object(c.useState)(!0),a=Object(g.a)(i,2),l=(a[0],a[1]),j=Object(c.useState)([]),b=Object(g.a)(j,2),O=(b[0],b[1],Object(c.useState)(!1)),h=Object(g.a)(O,2),f=h[0],p=h[1],v=Object(c.useState)(!1),x=Object(g.a)(v,2),m=x[0],k=x[1],C=Object(c.useState)(),P=Object(g.a)(C,2),T=P[0],L=P[1],R=Object(c.useState)(!1),E=Object(g.a)(R,2),B=E[0],U=E[1],J=Object(c.useState)(!1),q=Object(g.a)(J,2),K=q[0],M=q[1],X=Object(c.useState)(""),F=Object(g.a)(X,2),G=F[0],V=F[1],Q=Object(A.c)((function(e){return e.cart.cartItems})),W=Object(A.c)((function(e){return e.product.products})),H=Object(A.c)((function(e){return e.customer.customers})),_=Object(A.b)(),te=(Object(A.c)((function(e){return e.internetConnection.internetState})),function(e){L(e),p(!1)}),ce=function(e,t){var n=new re(e,e.quantity);_({type:se,payload:n}),oe(t)},oe=function(e){W[e].quantity=1,_(D(Object(I.a)(W)))},ie=function(e){Q.splice(e,1),_(ue(Object(I.a)(Q)))},ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";M(e),V(t)};return Object(c.useEffect)((function(){Promise.all([n.getCustomers(),n.getProducts()]).then((function(e){var t=Object(g.a)(e,2),n=t[0],r=t[1];console.log(n),console.log(r),_(Ne(n)),_(D(r)),setTimeout((function(){l(!1)}),500)})).catch((function(e){console.log(e)})),o.getInternetState().then((function(e){console.log(e),_({type:Re,payload:e})})).catch((function(){}))}),[]),Object(r.jsxs)(w,{children:[Object(r.jsx)(Le,{title:"Kesalahan",visible:B,onClose:function(){U(!1)},content:Object(r.jsx)("div",{children:"Periksa kembali data pelanggan dan produk"})}),Object(r.jsx)(ne,{visible:f,title:"Pilih Pelanggan",content:Object(r.jsx)("div",{children:Object(r.jsx)(N,{data:H,render:function(e,t){return Object(r.jsxs)("div",{onClick:function(){te(e)},className:"\r p-2 flex shadow mb-4\r hover:bg-purple-700 \r focus:outline-none \r focus:ring-2 \r focus:ring-purple-600 \r focus:ring-opacity-50\r ",children:[Object(r.jsx)("div",{className:"flex-1",children:e.name}),Object(r.jsx)(Y,{title:"Pilih",onClick:function(){te(e)}})]},t)}})}),onClose:function(){p(!1)}}),Object(r.jsx)(ne,{visible:m,title:"Pilih Produk",content:Object(r.jsx)("div",{children:Object(r.jsx)(N,{data:W,render:function(e,t){return Object(r.jsxs)("div",{className:"p-2 shadow mb-4",children:[Object(r.jsx)("div",{className:"flex",children:Object(r.jsxs)("div",{className:"flex-1",children:[Object(r.jsx)("div",{children:e.name}),Object(r.jsx)("div",{children:s.rupiah(e.price)})]})}),Object(r.jsxs)("div",{className:"flex",children:[Object(r.jsxs)("div",{className:"flex flex-1 items-center content-center",children:[Object(r.jsx)(ee,{onClick:function(){var n,r;console.log("button minus"),r=t,(n=e).quantity>1&&(n.quantity-=1,W[r]=n,_(D(Object(I.a)(W))))}}),Object(r.jsx)("div",{className:"flex p-2",children:e.quantity}),Object(r.jsx)(Z,{onClick:function(){var n,r;console.log("button add"),r=t,(n=e).quantity+=1,console.log(n),W[r]=n,_(D(Object(I.a)(W)))}})]}),Object(r.jsx)(Y,{title:"Tambah",onClick:function(){ce(e,t)}})]})]},t)}})}),onClose:function(){k(!1),function(){var e=W.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{quantity:1})}));_(D(Object(I.a)(e)))}()}}),Object(r.jsx)(Le,{title:"Buat Orderan",visible:K,onClose:function(){ae(!1)},content:Object(r.jsx)("div",{children:G})}),Object(r.jsx)(S,{title:"Buat Orderan",left:Object(r.jsx)($,{onClick:function(){_(le()),t.goBack()}})}),Object(r.jsxs)(y,{children:[Object(r.jsxs)("div",{className:"mb-4",children:[Object(r.jsx)("div",{className:"font-medium text-lg",children:"Pelanggan"}),Object(r.jsx)("div",{className:"shadow p-2 pb-10 mb-4",children:null!==(e=null===T||void 0===T?void 0:T.name)&&void 0!==e?e:"Pelanggan belum dipilih"}),Object(r.jsx)("div",{className:"flex",children:Object(r.jsx)(Y,{title:void 0==T?"Pilih Pelanggan":"Ganti Pelanggan",onClick:function(){p(!0)}})})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"font-medium text-lg",children:"Produk"}),Object(r.jsx)("div",{className:"w-screen mb-2",children:Object(r.jsx)(Y,{title:"Tambah Produk",onClick:function(){k(!0)}})}),Object(r.jsx)(N,{data:Q,render:function(e,t){return Object(r.jsxs)("div",{className:"flex mb-4 p-2 shadow",children:[Object(r.jsxs)("div",{className:"flex-1",children:[Object(r.jsx)("div",{children:e.product.name}),Object(r.jsx)("div",{children:e.product.price})]}),Object(r.jsxs)("div",{className:"flex p-2 items-center",children:[Object(r.jsx)(ee,{onClick:function(){var e;console.log("minus"),Q[e=t].quantity>1?(Q[e].quantity-=1,_(ue(Object(I.a)(Q)))):ie(e)}}),Object(r.jsx)("div",{className:"p-2",children:e.quantity}),Object(r.jsx)(Z,{onClick:function(){console.log("add"),Q[t].quantity+=1,_(ue(Object(I.a)(Q)))}}),Object(r.jsx)("div",{className:"p-2",children:Object(r.jsx)(we,{onClick:function(){console.log("%c remove","color:pink"),ie(t)}})})]})]},t)}})]})]}),Object(r.jsx)(Ie,{children:Object(r.jsx)(Y,{title:"Proses",onClick:function(){!function(){if(T&&Q.length>0){var e=Q.map((function(e){return new Te(1,e.product,e.quantity)})),t=new pe(Date.now(),null===T||void 0===T?void 0:T.id,e);n.storeOrder(t).then((function(e){L(void 0),_(le()),console.log("store order res",e),ae(!0,"Orderan sukses")})).catch((function(e){console.log("store order error",e),ae(!0,"Orderan Gagal,\n disimpan di lokal memory")}))}else T||console.log("customer not"),0===Q.length&&console.log("cart item is empty"),U(!0)}()}})})]})},Be=function(){function e(){Object(b.a)(this,e),this.customerApiService=new be}return Object(O.a)(e,[{key:"getCustomers",value:function(){var e=Object(J.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.customerApiService.getCustomers());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCustomerById",value:function(){var e=Object(J.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.customerApiService.getCustomerById(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ue=function(){return new Be},Je=function(){var e=Object(u.g)(),t=Ue(),n=(Object(u.i)(),Object(c.useState)()),o=Object(g.a)(n,2),s=o[0],i=o[1];return Object(c.useEffect)((function(){Promise.all([t.getCustomerById(1)]).then((function(e){var t=Object(g.a)(e,1)[0];i(t)})).catch((function(e){}))}),[]),Object(r.jsxs)(w,{children:[Object(r.jsx)(S,{title:"Detil Pelanggan",left:Object(r.jsx)($,{onClick:function(){e.goBack()}})}),Object(r.jsx)(y,{children:Object(r.jsx)("div",{children:null===s||void 0===s?void 0:s.name})})]})},qe=function(){var e=Object(u.g)(),t=Ue(),n=Object(c.useState)(!1),o=Object(g.a)(n,2),s=o[0],i=o[1],a=Object(A.c)((function(e){return e.customer.customers})),l=Object(A.b)();return Object(c.useEffect)((function(){Promise.all([t.getCustomers()]).then((function(e){var t=Object(g.a)(e,1)[0];l(Ne(t)),setTimeout((function(){i(!1)}),300)})).catch((function(e){})).finally((function(){}))}),[]),s?Object(r.jsx)(w,{children:Object(r.jsx)(y,{children:Object(r.jsx)("div",{children:"loading..."})})}):Object(r.jsxs)(w,{children:[Object(r.jsx)(S,{title:"Pelanggan"}),Object(r.jsx)(y,{children:Object(r.jsx)(N,{data:a,render:function(t,n){return Object(r.jsx)("div",{onClick:function(){e.push("/customers/"+t.id)},className:"shadow mb-4 p-2 rounded",children:Object(r.jsx)("div",{children:t.name})},n)}})}),Object(r.jsx)(C,{})]})},Ke=function(e){var t=z();return Object(r.jsxs)("div",{onClick:e.onClick,className:"rounded shadow mb-4 p-2",children:[Object(r.jsx)("div",{children:e.orderItem.product.name}),Object(r.jsx)("div",{children:t.rupiah(e.orderItem.product.price)}),Object(r.jsx)("div",{children:e.orderItem.quantity})]})},Me="SET_ORDERS",Xe="CLEAR_ORDERS",Fe="ADD_ORDER",Ge={orders:[]},Ve=function(e){return{type:Me,payload:e}},Qe=function(){function e(){Object(b.a)(this,e)}return Object(O.a)(e,null,[{key:"getOrders",value:function(){return this.orders}}]),e}();Qe.orders=[new pe(1,1,[new Te(1,X.getProduct(1),10),new Te(2,X.getProduct(3),10),new Te(3,X.getProduct(4),10)]),new pe(2,3,[new Te(4,X.getProduct(9),10),new Te(5,X.getProduct(10),10),new Te(6,X.getProduct(2),10)]),new pe(3,2,[new Te(7,X.getProduct(8),10),new Te(8,X.getProduct(7),10),new Te(9,X.getProduct(6),10)])];var We=function(){function e(){Object(b.a)(this,e)}return Object(O.a)(e,[{key:"setProfile",value:function(e){var t=JSON.stringify(e);console.log("profileString",t),localStorage.setItem("profile",t)}},{key:"getProfile",value:function(){var e=localStorage.getItem("profile");if(e)return JSON.parse(e);throw new Error}},{key:"removeProfile",value:function(){localStorage.removeItem("profile")}}]),e}(),He=function(){function e(){Object(b.a)(this,e),this.profileLocalPersistent=new We,this.orderApiService=new xe,this.orderLocalPersistent=new me,this.authService=new p}return Object(O.a)(e,[{key:"getProfile",value:function(){return this.profileLocalPersistent.getProfile()}},{key:"getOrders",value:function(){return Qe.getOrders()}},{key:"getOrdersLocalPersistent",value:function(){return this.orderLocalPersistent.getOrders()}},{key:"storeOrder",value:function(){var e=Object(J.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new ge(t.customerId,t.orderItems),this.orderApiService.storeOrder(n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(J.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.authService.logout();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ze=function(){var e=new He,t=(ye(),Object(u.g)()),n=Object(c.useState)(),o=Object(g.a)(n,2),s=o[0],i=o[1],a=Object(c.useState)([]),l=Object(g.a)(a,2),d=(l[0],l[1],Object(A.c)((function(e){return e.order.orders})),Object(A.b)());return Object(c.useEffect)((function(){!function(){var t=e.getOrdersLocalPersistent();d(Ve(t)),i(e.getProfile())}()}),[]),Object(r.jsxs)(w,{children:[Object(r.jsx)(S,{title:"Home",right:Object(r.jsx)("div",{children:Object(r.jsx)("div",{className:"text-white",children:null===s||void 0===s?void 0:s.name})})}),Object(r.jsxs)(y,{children:[Object(r.jsx)(Y,{title:"logout",onClick:function(){e.logout().then((function(){t.push("/login")}))}}),Object(r.jsx)(N,{data:[],render:function(t,n){return Object(r.jsxs)("div",{className:"mb-8",children:[Object(r.jsx)(N,{data:t.orderItems,render:function(e,t){return Object(r.jsx)(Ke,{onClick:function(){},orderItem:e},t)}}),Object(r.jsx)(Y,{title:"checkout",onClick:function(){console.log(t.orderItems),e.storeOrder(t)}})]},n)}})]}),Object(r.jsx)(C,{})]})},_e=function e(t,n){Object(b.a)(this,e),this.username=t,this.password=n},Ye=function e(t,n){Object(b.a)(this,e),this.username=t,this.name=n},Ze=function(){function e(){Object(b.a)(this,e)}return Object(O.a)(e,[{key:"validate",value:function(e){console.log("%c validate: ".concat(e,", ").concat(typeof e),"color:yellow")}}]),e}(),$e=function(){function e(){Object(b.a)(this,e),this.authService=new p,this.validatorUtil=new Ze,this.profileLocalPersistent=new We}return Object(O.a)(e,[{key:"login",value:function(){var e=Object(J.a)(U.a.mark((function e(t,n){var r,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.validatorUtil.validate(new _e(t,n)),r=new Ye(t,t),console.log("profile",r),this.profileLocalPersistent.setProfile(r),c=new h("token"),console.log("auth",c),this.authService.setAuth(c);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),et=function(){var e=new $e,t=Object(u.g)(),n=Object(c.useState)(""),o=Object(g.a)(n,2),s=o[0],i=o[1],a=Object(c.useState)(""),l=Object(g.a)(a,2),d=l[0],j=l[1];return Object(r.jsx)(w,{children:Object(r.jsxs)(y,{children:[Object(r.jsx)("div",{className:"flex items-center justify-center p-4",children:Object(r.jsx)("div",{className:"text-lg",children:"Login"})}),Object(r.jsxs)("div",{className:"mb-4",children:[Object(r.jsx)("label",{children:"username"}),Object(r.jsx)("input",{className:"border-2 rounded w-full h-10 px-2",onChange:function(e){i(e.target.value)}})]}),Object(r.jsxs)("div",{className:"mb-4",children:[Object(r.jsx)("label",{children:"Password"}),Object(r.jsx)("div",{children:Object(r.jsx)("input",{type:"password",className:"border-2 rounded w-full h-10 px-2",onChange:function(e){j(e.target.value)}})})]}),Object(r.jsx)("div",{className:"flex flex-col",children:Object(r.jsx)(Y,{title:"Login",onClick:function(){e.login(s,d).then((function(){t.push("/")})).catch((function(e){console.error(e)}))},children:"login"})})]})})},tt=function(){var e,t=Object(u.g)(),n=Object(u.i)(),o=Object(u.h)();console.log("location",o),console.log("query",new URLSearchParams(o.search).get("done")),console.log("params",n);var s=ye(),i=z(),a=Object(c.useState)(),l=Object(g.a)(a,2),d=l[0],j=l[1],b=Object(c.useState)(!1),O=Object(g.a)(b,2),h=O[0],f=O[1];return Object(c.useEffect)((function(){Promise.all([s.getOrderLocalPersistentById(+n.orderId)]).then((function(e){var t=Object(g.a)(e,1)[0];j(t),f(!1)})).catch((function(e){}))}),[]),h?Object(r.jsx)(w,{children:Object(r.jsx)(y,{children:Object(r.jsx)("div",{children:"loading..."})})}):Object(r.jsxs)(w,{children:[Object(r.jsx)(S,{title:"Detil Orderan",left:Object(r.jsx)($,{onClick:function(){t.goBack()}})}),Object(r.jsxs)(y,{children:[Object(r.jsxs)("div",{children:["Orderan ",null===d||void 0===d?void 0:d.id]}),Object(r.jsxs)("div",{children:["Pelanggan ",null===d||void 0===d?void 0:d.customerId]}),Object(r.jsx)(N,{data:null!==(e=null===d||void 0===d?void 0:d.orderItems)&&void 0!==e?e:[],render:function(e,t){return Object(r.jsxs)("div",{className:"flex shadow mb-4 p-2",children:[Object(r.jsx)("img",{className:"h-20 w-20 mr-2",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAMFBMVEXp7vG6vsG3u77s8fTCxsnn7O/f5OfFyczP09bM0dO8wMPk6ezY3eDd4uXR1tnJzdBvAX/cAAACVElEQVR4nO3b23KDIBRA0ShGU0n0//+2KmO94gWZ8Zxmr7fmwWEHJsJUHw8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwO1MHHdn+L3rIoK6eshsNJ8kTaJI07fERPOO1Nc1vgQm2oiBTWJ+d8+CqV1heplLzMRNonED+4mg7L6p591FC+133/xCRNCtd3nL9BlxWP++MOaXFdEXFjZ7r8D9l45C8y6aG0cWtP/SUGhs2d8dA/ZfGgrzYX+TVqcTNRRO9l+fS5eSYzQs85psUcuzk6igcLoHPz2J8gvzWaH/JLS+95RfOD8o1p5CU5R7l5LkfKEp0mQ1UX7hsVXqDpRrifILD/3S9CfmlUQFhQfuFu0STTyJ8gsP3PH7GVxN1FC4t2sbBy4TNRTu7LyHJbqaqKFw+/Q0ncFloo7CjRPwMnCWqKXQZ75El4nKC9dmcJaou9AXOE5UXbi+RGeJygrz8Uf+GewSn9uXuplnWDZJ7d8f24F/s6iq0LYf9olbS3Q8i5oKrRu4S9ybwaQ/aCkqtP3I28QDgeoK7TBya/aXqL5COx67PTCD2grtdOwH+pQV2r0a7YVBgZoKwwIVFQYG6ikMDVRTGByopjD8ATcKb0UhhRTe77sKs2DV7FKSjId18TUEBYVyLhUThWfILHTDqmI85/2RWWjcE/bhP6OD7maT3h20MHsA47JC3PsW0wcwLhv9t0OOPOIkCn21y2bXXwlyylxiYMPk1SuCSmpfK8bNQvIrpAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwNX4BCbAju9/X67UAAAAASUVORK5CYII="}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:e.product.name}),Object(r.jsx)("div",{children:i.rupiah(e.product.price)}),Object(r.jsxs)("div",{children:[e.quantity," pc(s)"]})]})]},t)}})]})]})},nt=function(e){return Object(r.jsxs)("div",{onClick:e.onClick,className:"flex shadow mb-4 p-2",children:[Object(r.jsxs)("div",{className:"flex-1",children:[Object(r.jsx)("div",{children:(new Date).toDateString()}),Object(r.jsxs)("div",{children:["kode orderan ",e.order.id]}),Object(r.jsxs)("div",{children:[e.order.orderItems.length," jenis barang"]})]}),Object(r.jsx)("div",{className:"p-2",children:e.status})]})},rt=function(){var e=Object(u.g)(),t=ye(),n=Object(c.useState)([]),o=Object(g.a)(n,2),s=o[0],i=o[1];Object(A.c)((function(e){return e.order.orders})),Object(A.b)();return Object(c.useEffect)((function(){t.getPurchases().then((function(e){i(e)})).catch((function(e){console.log("get purchases from api failed")}))}),[]),Object(r.jsxs)(w,{children:[Object(r.jsx)(S,{title:"Orderan Selesai",left:Object(r.jsx)($,{onClick:function(){e.goBack()}})}),Object(r.jsx)(y,{children:Object(r.jsx)(N,{data:s,render:function(t,n){return Object(r.jsx)(nt,{order:t,status:"terkirim",onClick:function(){console.log(t),e.push("/orders/"+t.id+"?done=true")}},n)}})})]})},ct=function(){var e=Object(u.g)(),t=ye(),n=(new URLSearchParams(Object(u.h)().search),Object(A.c)((function(e){return e.order.orders}))),o=Object(A.b)();return Object(c.useEffect)((function(){o(Ve(t.getOrdersLocalPersistent()))}),[]),Object(r.jsxs)(w,{children:[Object(r.jsx)(S,{title:"Orderan Dalam Proses",left:Object(r.jsx)($,{onClick:function(){e.goBack()}})}),Object(r.jsx)(y,{children:Object(r.jsx)(N,{data:n,render:function(t,n){return Object(r.jsx)(nt,{order:t,status:"gagal",onClick:function(){console.log(t),e.push("/orders/"+t.id+"?done=false")}},n)}})})]})},ot=function(){var e=Object(u.g)();return Object(r.jsxs)(w,{children:[Object(r.jsx)(S,{title:"Orderan"}),Object(r.jsxs)(y,{children:[Object(r.jsx)("div",{onClick:function(){e.push("/orders/create")},className:"\r p-2\r rounded\r shadow\r mb-4\r ",children:"Buat Orderan Baru"}),Object(r.jsx)("div",{onClick:function(){e.push("/orders/onprocess")},className:"\r p-2\r rounded\r shadow\r mb-4\r ",children:"Orderan Dalam Proses"}),Object(r.jsx)("div",{onClick:function(){e.push("/orders/done")},className:"\r p-2\r rounded\r shadow\r mb-4\r ",children:"Orderan Selesai"})]}),Object(r.jsx)(C,{})]})},st=function(){return Object(r.jsx)(a.a,{basename:"/",children:Object(r.jsxs)(u.d,{children:[Object(r.jsx)(x,{component:ze,path:"/",exact:!0}),Object(r.jsx)(x,{component:ot,path:"/orders",exact:!0}),Object(r.jsx)(x,{component:qe,path:"/customers",exact:!0}),Object(r.jsx)(x,{component:_,path:"/catalogs",exact:!0}),Object(r.jsx)(x,{component:De,path:"/orders/create",exact:!0}),Object(r.jsx)(x,{component:ct,path:"/orders/onprocess",exact:!0}),Object(r.jsx)(x,{component:rt,path:"/orders/done",exact:!0}),Object(r.jsx)(x,{component:tt,path:"/orders/:orderId",exact:!0}),Object(r.jsx)(x,{component:Je,path:"/customers/:customerId",exact:!0}),Object(r.jsx)(m,{component:et,path:"/login",exact:!0}),Object(r.jsx)(u.b,{component:l})]})})},it=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,80)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),o(e),s(e)}))},at=n(22),ut=Object(at.b)({cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return Object(d.a)(Object(d.a)({},e),{},{carts:t.payload});case oe:return Object(d.a)(Object(d.a)({},e),{},{cartItems:t.payload});case se:return Object(d.a)(Object(d.a)({},e),{},{cartItems:[].concat(Object(I.a)(e.cartItems),[t.payload])});case ie:return console.log("clear cart items"),Object(d.a)(Object(d.a)({},e),{},{cartItems:[]});default:return e}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(d.a)(Object(d.a)({},e),{},{products:t.payload});case L:return Object(d.a)(Object(d.a)({},e),{},{products:[].concat(Object(I.a)(e.products),[t.payload])});case R:return Object(d.a)(Object(d.a)({},e),{},{products:[]});default:return e}},customer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke:return Object(d.a)(Object(d.a)({},e),{},{customers:t.payload});case Ce:return Object(d.a)(Object(d.a)({},e),{},{customers:[].concat(Object(I.a)(e.customers),[t.payload])});case Pe:return Object(d.a)(Object(d.a)({},e),{},{customers:[]});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me:return Object(d.a)(Object(d.a)({},e),{},{orders:t.payload});case Fe:return Object(d.a)(Object(d.a)({},e),{},{orders:[].concat(Object(I.a)(e.orders),[t.payload])});case Xe:return Object(d.a)(Object(d.a)({},e),{},{orders:[]});default:return e}},internetConnection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re:return Object(d.a)(Object(d.a)({},e),{},{internetState:t.payload});default:return e}}}),lt=Object(at.c)(ut);i.a.render(Object(r.jsx)(A.a,{store:lt,children:Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(st,{})})}),document.getElementById("root")),it()}},[[79,1,2]]]);
//# sourceMappingURL=main.e65534f3.chunk.js.map